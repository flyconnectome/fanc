<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert between FANC cell ids and root ids — fanc_cellid_from_segid • fancr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert between FANC cell ids and root ids — fanc_cellid_from_segid"><meta name="description" content="Converts between FANC cell ids (should survive most edits) and
root ids (guaranteed to match just one edit state). See details."><meta property="og:description" content="Converts between FANC cell ids (should survive most edits) and
root ids (guaranteed to match just one edit state). See details."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fancr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fas fa-home fa-lg"></span></a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/BANC.html">BANC</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="../SUPPORT.html">Help</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://natverse.org">natverse</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/flyconnectome/fancr/"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Convert between FANC cell ids and root ids</h1>
      <small class="dont-index">Source: <a href="https://github.com/flyconnectome/fancr/blob/master/R/ids.R" class="external-link"><code>R/ids.R</code></a></small>
      <div class="d-none name"><code>fanc_cellid_from_segid.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Converts between FANC cell ids (should survive most edits) and
root ids (guaranteed to match just one edit state). See details.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fanc_cellid_from_segid</span><span class="op">(</span></span>
<span>  rootids <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  timestamp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  version <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cellid_table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rval <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ids"</span>, <span class="st">"data.frame"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">fanc_segid_from_cellid</span><span class="op">(</span></span>
<span>  cellids <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  timestamp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  version <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rval <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ids"</span>, <span class="st">"data.frame"</span><span class="op">)</span>,</span>
<span>  integer64 <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cellid_table <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-rootids">rootids<a class="anchor" aria-label="anchor" href="#arg-rootids"></a></dt>
<dd><p>FANC root ids in any form understood by
<code><a href="fanc_ids.html">fanc_ids</a></code>. The default value of NULL will return all cell ids.</p></dd>


<dt id="arg-timestamp">timestamp<a class="anchor" aria-label="anchor" href="#arg-timestamp"></a></dt>
<dd><p>An optional time stamp. You should give only one of
<code>version</code> or <code>timestamp</code>. When both are missing, ids should match
the live materialisation version including up to the second edits.</p></dd>


<dt id="arg-version">version<a class="anchor" aria-label="anchor" href="#arg-version"></a></dt>
<dd><p>An optional integer CAVE materialisation version. You should
give only one of <code>version</code> or <code>timestamp</code>. When both are missing,
ids should match the live materialisation version including up to the
second edits.</p></dd>


<dt id="arg-cellid-table">cellid_table<a class="anchor" aria-label="anchor" href="#arg-cellid-table"></a></dt>
<dd><p>Optional name of cell id table (the default value of
<code>NULL</code> should find the correct table).</p></dd>


<dt id="arg-rval">rval<a class="anchor" aria-label="anchor" href="#arg-rval"></a></dt>
<dd><p>Whether to return the cell ids or the whole of the CAVE table
with additional columns.</p></dd>


<dt id="arg-cellids">cellids<a class="anchor" aria-label="anchor" href="#arg-cellids"></a></dt>
<dd><p>Integer cell ids between between 1 and around 20000 that
<em>should</em> uniquely identify each cell in the dataset.</p></dd>


<dt id="arg-integer-">integer64<a class="anchor" aria-label="anchor" href="#arg-integer-"></a></dt>
<dd><p>Whether to return ids as <code><a href="https://rdrr.io/pkg/bit64/man/bit64-package.html" class="external-link">bit64::integer64</a></code> or
character vectors. Default value of NA leaves the ids unmodified.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Either a vector of ids or a data.frame depending on <code>rval</code>. A
cellid vector will be integer; for root ids (segment ids), a
character vector or an <code><a href="https://rdrr.io/pkg/bit64/man/bit64-package.html" class="external-link">bit64::integer64</a></code> vector depending on the
<code>integer64</code> argument.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>CAVE/PyChunkedGraph assigns a 64 bit integer root id to all bodies
in the segmentation. These root ids are persistent in a computer science
sense, which is often the exact opposite of what neuroscientists might
imagine. Specifically, a given root id is matched to a single edit state of
a neuron. If the neuron is edited, then root id changes. In contrast, cell
ids do not change even in the face of edits. However, it is important to
understand that they correspond to a specific point on a neuron, commonly
the nucleus. If the nucleus is edited away from a the rest of a neuron to
which it previously belonged, then the cell id and any associated edits
will effectively with move it.</p>
<p>For further details see
<a href="https://fanc-reconstruction.slack.com/archives/CLDH21J4U/p1690755500802509" class="external-link">FANC
slack</a> and
<a href="https://github.com/htem/FANC_auto_recon/wiki/Neuron-annotations#neuron_information" class="external-link">FANC
wiki</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other fanc-ids:
<code><a href="fanc_ids.html">fanc_ids</a>()</code>,
<code><a href="fanc_islatest.html">fanc_islatest</a>()</code>,
<code><a href="fanc_latestid.html">fanc_latestid</a>()</code>,
<code><a href="fanc_leaves.html">fanc_leaves</a>()</code>,
<code><a href="fanc_rootid.html">fanc_rootid</a>()</code>,
<code><a href="fanc_xyz2id.html">fanc_xyz2id</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="fu">fanc_cellid_from_segid</span><span class="op">(</span><span class="fu"><a href="fanc_latestid.html">fanc_latestid</a></span><span class="op">(</span><span class="st">"648518346486614449"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 12967</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="fu">fanc_segid_from_cellid</span><span class="op">(</span><span class="fl">12967</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "648518346486614449"</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gregory Jefferis.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

